import{D as Bs,S as ks,i as Ts,s as Rs,e as i,t as f,k as u,w as T,c as D,a as y,h as d,d as t,m as A,x as R,b as Z,g as c,M as o,y as H,j as As,q as L,o as j,B as P,Q as Hs,E as gs,a1 as Ls,V as js,G as Ps}from"../../../chunks/index-060057ec.js";import{P as xs}from"../../../chunks/Preview-b3e65963.js";import"../../../chunks/Text.errors-13cae356.js";import{B as Us}from"../../../chunks/Button-abb22114.js";import{f as Os}from"../../../chunks/scroll-ea580e6e.js";import{C as _s}from"../../../chunks/CodeFence-9b5871c3.js";import{T as qs}from"../../../chunks/TableWrapper-46c9ed1f.js";import{C as Ss}from"../../../chunks/CodeInline-b0c918ba.js";import{L as bs}from"../../../chunks/Link-77d01379.js";import"../../../chunks/Loader-078c5169.js";import"../../../chunks/rgba-d25d8fcf.js";import"../../../chunks/exception-5d79bab8.js";import"../../../chunks/singletons-fc9b72e6.js";import"../../../chunks/clsx.m-5abe7e4f.js";function Gs(r,n){const e=async()=>{const{blob:a,filename:F}=n;try{const p=document.createElement("a"),$=URL.createObjectURL(a);p.href=$,p.download=F||"",document.body.appendChild(p),p.click(),await Bs(),document.body.removeChild(p),URL.revokeObjectURL($),r.dispatchEvent(new CustomEvent("usedownload",{detail:{blob:a,filename:F}}))}catch{r.dispatchEvent(new CustomEvent("usedownload-error",{detail:{blob:a,filename:F}}))}};return r.addEventListener("click",e,!0),{update:a=>n=a,destroy:()=>r.removeEventListener("click",e,!0)}}function Ns(r){let n;return{c(){n=f("#")},l(e){n=d(e,"#")},m(e,a){c(e,n,a)},d(e){e&&t(n)}}}function Ws(r){let n,e,a,F;return{c(){n=i("button"),e=f("Click to Download")},l(p){n=D(p,"BUTTON",{});var $=y(n);e=d($,"Click to Download"),$.forEach(t)},m(p,$){c(p,n,$),o(n,e),a||(F=[Ls(Gs.call(null,n,{blob:new Blob([]),filename:"test.txt"})),js(n,"usedownload",r[1])],a=!0)},p:gs,d(p){p&&t(n),a=!1,Ps(F)}}}function Ms(r){let n,e;return n=new Us({props:{$$slots:{default:[Ws]},$$scope:{ctx:r}}}),{c(){T(n.$$.fragment)},l(a){R(n.$$.fragment,a)},m(a,F){H(n,a,F),e=!0},p(a,F){const p={};F&8&&(p.$$scope={dirty:F,ctx:a}),n.$set(p)},i(a){e||(L(n.$$.fragment,a),e=!0)},o(a){j(n.$$.fragment,a),e=!1},d(a){P(n,a)}}}function Is(r){let n;return{c(){n=f("#")},l(e){n=d(e,"#")},m(e,a){c(e,n,a)},d(e){e&&t(n)}}}function Qs(r){let n,e,a,F,p,$,q,Q,x,E,g,_,B,ss,S,k,V,m,N,W,M,G,ns,Y;return{c(){n=i("table"),e=i("thead"),a=i("tr"),F=i("th"),p=f("Param"),$=u(),q=i("th"),Q=f("Description"),x=u(),E=i("tbody"),g=i("tr"),_=i("td"),B=f("blob"),ss=u(),S=i("td"),k=f("The Blob object representing immutable, raw data."),V=u(),m=i("tr"),N=i("td"),W=f("filename"),M=u(),G=i("td"),ns=f("The name of the file to be downloaded."),Y=u()},l(v){n=D(v,"TABLE",{});var C=y(n);e=D(C,"THEAD",{});var U=y(e);a=D(U,"TR",{});var z=y(a);F=D(z,"TH",{});var es=y(F);p=d(es,"Param"),es.forEach(t),$=A(z),q=D(z,"TH",{});var O=y(q);Q=d(O,"Description"),O.forEach(t),z.forEach(t),U.forEach(t),x=A(C),E=D(C,"TBODY",{});var b=y(E);g=D(b,"TR",{});var w=y(g);_=D(w,"TD",{});var rs=y(_);B=d(rs,"blob"),rs.forEach(t),ss=A(w),S=D(w,"TD",{});var ts=y(S);k=d(ts,"The Blob object representing immutable, raw data."),ts.forEach(t),w.forEach(t),V=A(b),m=D(b,"TR",{});var h=y(m);N=D(h,"TD",{});var cs=y(N);W=d(cs,"filename"),cs.forEach(t),M=A(h),G=D(h,"TD",{});var J=y(G);ns=d(J,"The name of the file to be downloaded."),J.forEach(t),h.forEach(t),b.forEach(t),Y=A(C),C.forEach(t)},m(v,C){c(v,n,C),o(n,e),o(e,a),o(a,F),o(F,p),o(a,$),o(a,q),o(q,Q),o(n,x),o(n,E),o(E,g),o(g,_),o(_,B),o(g,ss),o(g,S),o(S,k),o(E,V),o(E,m),o(m,N),o(N,W),o(m,M),o(m,G),o(G,ns),o(n,Y)},p:gs,d(v){v&&t(n)}}}function Vs(r){let n;return{c(){n=f("#")},l(e){n=d(e,"#")},m(e,a){c(e,n,a)},d(e){e&&t(n)}}}function Ys(r){let n;return{c(){n=f("#")},l(e){n=d(e,"#")},m(e,a){c(e,n,a)},d(e){e&&t(n)}}}function zs(r){let n,e=r[0].title+"",a,F,p,$=r[0].description+"",q,Q,x,E,g,_,B,ss,S,k,V,m,N,W,M=r[0].title+"",G,ns,Y,v,C,U,z,es,O,b,w,rs,ts,h,cs,J,fs=r[0].title+"",Cs,hs,as,ms,ls,I,K,vs,us,os,X;return x=new _s({props:{lang:"typescript",ext:"ts",linesCount:2,code:`<pre><code><span class="line"><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">{</span><span style="color: #F07178"> </span><span style="color: #A6ACCD">download</span><span style="color: #F07178"> </span><span style="color: #89DDFF">}</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">@svelteuidev/actions</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">;</span></span>
<span class="line"></span></code></pre>`}}),B=new bs({props:{class:"header-anchor",href:"#usage","aria-hidden":"true",$$slots:{default:[Ns]},$$scope:{ctx:r}}}),k=new xs({props:{$$slots:{default:[Ms]},$$scope:{ctx:r}}}),v=new _s({props:{lang:"svelte",ext:"svelte",linesCount:13,rawCode:`<script>
	import { download } from '@svelteuidev/actions';
<\/script>

<div>
    <button
        use:download={{ blob: new Blob([]), filename: "test.txt" }}
        on:usedownload={() => console.log('File Downloaded')}
    >
        Download
    </button>
</div>
`,showCopyCode:!0,code:`<pre><code><span class="line"><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">script</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">	</span><span style="color: #89DDFF; font-style: italic">import</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">{</span><span style="color: #F07178"> </span><span style="color: #A6ACCD">download</span><span style="color: #F07178"> </span><span style="color: #89DDFF">}</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF; font-style: italic">from</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">@svelteuidev/actions</span><span style="color: #89DDFF">&#39;</span><span style="color: #89DDFF">;</span></span>
<span class="line"><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">script</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #89DDFF">&lt;</span><span style="color: #F07178">button</span></span>
<span class="line"><span style="color: #89DDFF">        </span><span style="color: #89DDFF; font-style: italic">use</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD">download</span><span style="color: #89DDFF">={{</span><span style="color: #A6ACCD"> </span><span style="color: #F07178">blob</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">new</span><span style="color: #A6ACCD"> </span><span style="color: #82AAFF">Blob</span><span style="color: #A6ACCD">([])</span><span style="color: #89DDFF">,</span><span style="color: #A6ACCD"> </span><span style="color: #F07178">filename</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">&quot;</span><span style="color: #C3E88D">test.txt</span><span style="color: #89DDFF">&quot;</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">}}</span></span>
<span class="line"><span style="color: #89DDFF">        </span><span style="color: #89DDFF; font-style: italic">on</span><span style="color: #89DDFF">:</span><span style="color: #FFCB6B">usedownload</span><span style="color: #89DDFF">={()</span><span style="color: #A6ACCD"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #A6ACCD"> console</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">log</span><span style="color: #A6ACCD">(</span><span style="color: #89DDFF">&#39;</span><span style="color: #C3E88D">File Downloaded</span><span style="color: #89DDFF">&#39;</span><span style="color: #A6ACCD">)</span><span style="color: #89DDFF">}</span></span>
<span class="line"><span style="color: #89DDFF">    &gt;</span></span>
<span class="line"><span style="color: #A6ACCD">        Download</span></span>
<span class="line"><span style="color: #A6ACCD">    </span><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">button</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"><span style="color: #89DDFF">&lt;/</span><span style="color: #F07178">div</span><span style="color: #89DDFF">&gt;</span></span>
<span class="line"></span></code></pre>`}}),U=new bs({props:{class:"header-anchor",href:"#params","aria-hidden":"true",$$slots:{default:[Is]},$$scope:{ctx:r}}}),O=new qs({props:{$$slots:{default:[Qs]},$$scope:{ctx:r}}}),w=new bs({props:{class:"header-anchor",href:"#events","aria-hidden":"true",$$slots:{default:[Vs]},$$scope:{ctx:r}}}),as=new Ss({props:{code:"e.g. on:click={() => {}}"}}),ls=new _s({props:{lang:"typescript",ext:"ts",linesCount:3,code:`<pre><code><span class="line"><span style="color: #FFCB6B">on</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD">usedownload</span><span style="color: #89DDFF">?:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">callback</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">(</span><span style="color: #A6ACCD">any</span><span style="color: #89DDFF">)</span><span style="color: #A6ACCD"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #A6ACCD"> </span><span style="color: #FFCB6B">unknown</span><span style="color: #89DDFF">)</span><span style="color: #A6ACCD"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">void;</span></span>
<span class="line"><span style="color: #FFCB6B">on</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD">usedownload</span><span style="color: #89DDFF">-</span><span style="color: #A6ACCD">error</span><span style="color: #89DDFF">?:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">(</span><span style="color: #82AAFF">callback</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">(</span><span style="color: #A6ACCD">any</span><span style="color: #89DDFF">)</span><span style="color: #A6ACCD"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #A6ACCD"> </span><span style="color: #FFCB6B">unknown</span><span style="color: #89DDFF">)</span><span style="color: #A6ACCD"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">void;</span></span>
<span class="line"></span></code></pre>`}}),K=new bs({props:{class:"header-anchor",href:"#definition","aria-hidden":"true",$$slots:{default:[Ys]},$$scope:{ctx:r}}}),os=new _s({props:{lang:"typescript",ext:"ts",linesCount:5,code:`<pre><code><span class="line"><span style="color: #89DDFF; font-style: italic">export</span><span style="color: #A6ACCD"> </span><span style="color: #C792EA">function</span><span style="color: #A6ACCD"> </span><span style="color: #82AAFF">download</span><span style="color: #89DDFF">(</span></span>
<span class="line"><span style="color: #A6ACCD">	node</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #FFCB6B">HTMLElement</span><span style="color: #89DDFF">,</span></span>
<span class="line"><span style="color: #A6ACCD">	params</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">{</span><span style="color: #A6ACCD"> </span><span style="color: #F07178">blob</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #FFCB6B">Blob</span><span style="color: #89DDFF">;</span><span style="color: #A6ACCD"> </span><span style="color: #F07178">filename</span><span style="color: #89DDFF">:</span><span style="color: #A6ACCD"> </span><span style="color: #FFCB6B">string</span><span style="color: #A6ACCD"> </span><span style="color: #89DDFF">}</span></span>
<span class="line"><span style="color: #89DDFF">):</span><span style="color: #A6ACCD"> </span><span style="color: #FFCB6B">ReturnType</span><span style="color: #89DDFF">&lt;</span><span style="color: #FFCB6B">Action</span><span style="color: #89DDFF">&gt;;</span></span>
<span class="line"></span></code></pre>`}}),{c(){n=i("h1"),a=f(e),F=u(),p=i("p"),q=f($),Q=u(),T(x.$$.fragment),E=i("hr"),g=u(),_=i("h2"),T(B.$$.fragment),ss=f(" Usage"),S=u(),T(k.$$.fragment),V=u(),m=i("p"),N=f("With the "),W=i("strong"),G=f(M),ns=f(" action, a download will occur with a given Blob object as a file with the given filename"),Y=u(),T(v.$$.fragment),C=i("h2"),T(U.$$.fragment),z=f(" Params"),es=u(),T(O.$$.fragment),b=i("h2"),T(w.$$.fragment),rs=f(" Events"),ts=u(),h=i("p"),cs=f("The "),J=i("strong"),Cs=f(fs),hs=f(" action dispatches custom events. Each custom event takes a callback function just like other events "),T(as.$$.fragment),ms=u(),T(ls.$$.fragment),I=i("h2"),T(K.$$.fragment),vs=f(" Definition"),us=u(),T(os.$$.fragment),this.h()},l(s){n=D(s,"H1",{});var l=y(n);a=d(l,e),l.forEach(t),F=A(s),p=D(s,"P",{});var ys=y(p);q=d(ys,$),ys.forEach(t),Q=A(s),R(x.$$.fragment,s),E=D(s,"HR",{}),g=A(s),_=D(s,"H2",{id:!0,tabindex:!0});var is=y(_);R(B.$$.fragment,is),ss=d(is," Usage"),is.forEach(t),S=A(s),R(k.$$.fragment,s),V=A(s),m=D(s,"P",{});var ps=y(m);N=d(ps,"With the "),W=D(ps,"STRONG",{});var ds=y(W);G=d(ds,M),ds.forEach(t),ns=d(ps," action, a download will occur with a given Blob object as a file with the given filename"),ps.forEach(t),Y=A(s),R(v.$$.fragment,s),C=D(s,"H2",{id:!0,tabindex:!0});var Ds=y(C);R(U.$$.fragment,Ds),z=d(Ds," Params"),Ds.forEach(t),es=A(s),R(O.$$.fragment,s),b=D(s,"H2",{id:!0,tabindex:!0});var Fs=y(b);R(w.$$.fragment,Fs),rs=d(Fs," Events"),Fs.forEach(t),ts=A(s),h=D(s,"P",{});var $s=y(h);cs=d($s,"The "),J=D($s,"STRONG",{});var Es=y(J);Cs=d(Es,fs),Es.forEach(t),hs=d($s," action dispatches custom events. Each custom event takes a callback function just like other events "),R(as.$$.fragment,$s),$s.forEach(t),ms=A(s),R(ls.$$.fragment,s),I=D(s,"H2",{id:!0,tabindex:!0});var ws=y(I);R(K.$$.fragment,ws),vs=d(ws," Definition"),ws.forEach(t),us=A(s),R(os.$$.fragment,s),this.h()},h(){Z(_,"id","usage"),Z(_,"tabindex","-1"),Z(C,"id","params"),Z(C,"tabindex","-1"),Z(b,"id","events"),Z(b,"tabindex","-1"),Z(I,"id","definition"),Z(I,"tabindex","-1")},m(s,l){c(s,n,l),o(n,a),c(s,F,l),c(s,p,l),o(p,q),c(s,Q,l),H(x,s,l),c(s,E,l),c(s,g,l),c(s,_,l),H(B,_,null),o(_,ss),c(s,S,l),H(k,s,l),c(s,V,l),c(s,m,l),o(m,N),o(m,W),o(W,G),o(m,ns),c(s,Y,l),H(v,s,l),c(s,C,l),H(U,C,null),o(C,z),c(s,es,l),H(O,s,l),c(s,b,l),H(w,b,null),o(b,rs),c(s,ts,l),c(s,h,l),o(h,cs),o(h,J),o(J,Cs),o(h,hs),H(as,h,null),c(s,ms,l),H(ls,s,l),c(s,I,l),H(K,I,null),o(I,vs),c(s,us,l),H(os,s,l),X=!0},p(s,[l]){(!X||l&1)&&e!==(e=s[0].title+"")&&As(a,e),(!X||l&1)&&$!==($=s[0].description+"")&&As(q,$);const ys={};l&8&&(ys.$$scope={dirty:l,ctx:s}),B.$set(ys);const is={};l&8&&(is.$$scope={dirty:l,ctx:s}),k.$set(is),(!X||l&1)&&M!==(M=s[0].title+"")&&As(G,M);const ps={};l&8&&(ps.$$scope={dirty:l,ctx:s}),U.$set(ps);const ds={};l&8&&(ds.$$scope={dirty:l,ctx:s}),O.$set(ds);const Ds={};l&8&&(Ds.$$scope={dirty:l,ctx:s}),w.$set(Ds),(!X||l&1)&&fs!==(fs=s[0].title+"")&&As(Cs,fs);const Fs={};l&8&&(Fs.$$scope={dirty:l,ctx:s}),K.$set(Fs)},i(s){X||(L(x.$$.fragment,s),L(B.$$.fragment,s),L(k.$$.fragment,s),L(v.$$.fragment,s),L(U.$$.fragment,s),L(O.$$.fragment,s),L(w.$$.fragment,s),L(as.$$.fragment,s),L(ls.$$.fragment,s),L(K.$$.fragment,s),L(os.$$.fragment,s),X=!0)},o(s){j(x.$$.fragment,s),j(B.$$.fragment,s),j(k.$$.fragment,s),j(v.$$.fragment,s),j(U.$$.fragment,s),j(O.$$.fragment,s),j(w.$$.fragment,s),j(as.$$.fragment,s),j(ls.$$.fragment,s),j(K.$$.fragment,s),j(os.$$.fragment,s),X=!1},d(s){s&&t(n),s&&t(F),s&&t(p),s&&t(Q),P(x,s),s&&t(E),s&&t(g),s&&t(_),P(B),s&&t(S),P(k,s),s&&t(V),s&&t(m),s&&t(Y),P(v,s),s&&t(C),P(U),s&&t(es),P(O,s),s&&t(b),P(w),s&&t(ts),s&&t(h),P(as),s&&t(ms),P(ls,s),s&&t(I),P(K),s&&t(us),P(os,s)}}}function Js(r,n,e){let a;return Hs(r,Os,p=>e(0,a=p)),[a,()=>console.log("File Downloaded")]}class Fn extends ks{constructor(n){super(),Ts(this,n,Js,zs,Rs,{})}}export{Fn as default};
